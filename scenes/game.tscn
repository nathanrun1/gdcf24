[gd_scene load_steps=8 format=3 uid="uid://n3unrhi0qwhx"]

[ext_resource type="PackedScene" uid="uid://c7mhfttbgml0" path="res://scenes/player.tscn" id="1_47xqi"]
[ext_resource type="Texture2D" uid="uid://dtoq7af1llk04" path="res://assets/sprites/wall_ph.png" id="2_oeo0e"]
[ext_resource type="PackedScene" uid="uid://c6moqch6wl8es" path="res://scenes/altar.tscn" id="5_2ncta"]
[ext_resource type="PackedScene" uid="uid://b15nlhf6iuwtc" path="res://scenes/summon_panel.tscn" id="6_svkrf"]

[sub_resource type="GDScript" id="GDScript_3ofif"]
script/source = "class_name Game extends Node2D

func _ready():
	for child in self.get_children():
		if child is Altar:
			child.summon.connect(_on_summon)

func _on_summon(altar: Altar, pattern: Array[int]):
	print(\"summon occured, pattern: \" + str(pattern))
"

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_spjg0"]
texture = ExtResource("2_oeo0e")
0:0/0 = 0
0:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)

[sub_resource type="TileSet" id="TileSet_7lq7y"]
physics_layer_0/collision_layer = 1
sources/0 = SubResource("TileSetAtlasSource_spjg0")

[node name="Game" type="Node2D"]
script = SubResource("GDScript_3ofif")

[node name="TileMapLayer" type="TileMapLayer" parent="."]
tile_set = SubResource("TileSet_7lq7y")

[node name="Player" parent="." instance=ExtResource("1_47xqi")]
position = Vector2(61, -43)

[node name="Camera2D" type="Camera2D" parent="Player"]
position = Vector2(-61, 39)
zoom = Vector2(4, 4)

[node name="SummonPanel" parent="Player/Camera2D" instance=ExtResource("6_svkrf")]
visible = false
offset_left = -288.0
offset_top = -163.015
offset_right = -288.0
offset_bottom = -163.015
scale = Vector2(0.495, 0.495)

[node name="Altar" parent="." node_paths=PackedStringArray("player", "summon_panel") instance=ExtResource("5_2ncta")]
position = Vector2(-4.00002, -130)
player = NodePath("../Player")
summon_panel = NodePath("../Player/Camera2D/SummonPanel")
